{% extends 'base-admin.html.twig' %}

{% block title %}Listado de Mentores{% endblock %}

{% block body %}
<!-- users list start -->
<div class="container-fluid">
    <!-- list section start -->
    <div class="card">

        <div class="card-datatable overflow-inherit table-responsive card-body">
            <table class="user-list-table table">
                <thead class="thead-light">
                <tr>
                    <th>
                        <a href="{{ filterService.orderBy("name", filterService.getInversedOrder("name")) }}">
                            Nombre{% if filterService.isOrdered("name") %}
                            <i data-feather="{{ filterService.getOrder("name").order == 'asc' ? 'arrow-up' : 'arrow-down' }}"></i>{% endif %}
                        </a>
                    </th>
                    <th>
                        <a href="{{ filterService.orderBy("representative", filterService.getInversedOrder("representative")) }}">
                            Representante{% if filterService.isOrdered("representative") %}
                            <i data-feather="{{ filterService.getOrder("representative").order == 'asc' ? 'arrow-up' : 'arrow-down' }}"></i>{% endif %}
                        </a>
                    </th>

                    <th>
                        <a href="{{ filterService.orderBy("speciality", filterService.getInversedOrder("speciality")) }}">
                            Especialidad{% if filterService.isOrdered("speciality") %}
                            <i data-feather="{{ filterService.getOrder("speciality").order == 'asc' ? 'arrow-up' : 'arrow-down' }}"></i>{% endif %}
                        </a>
                    </th>

                    <th>
                        <a href="{{ filterService.orderBy("phone", filterService.getInversedOrder("phone")) }}">
                            Tel√©fono{% if filterService.isOrdered("phone") %}
                            <i data-feather="{{ filterService.getOrder("phone").order == 'asc' ? 'arrow-up' : 'arrow-down' }}"></i>{% endif %}
                        </a>
                    </th>

                    <th>
                        <a href="{{ filterService.orderBy("email", filterService.getInversedOrder("email")) }}">
                            eMail{% if filterService.isOrdered("email") %}
                            <i data-feather="{{ filterService.getOrder("email").order == 'asc' ? 'arrow-up' : 'arrow-down' }}"></i>{% endif %}
                        </a>
                    </th>

                    <th>
                        <a href="{{ filterService.orderBy("logo", filterService.getInversedOrder("logo")) }}">
                            Logo{% if filterService.isOrdered("logo") %}
                            <i data-feather="{{ filterService.getOrder("logo").order == 'asc' ? 'arrow-up' : 'arrow-down' }}"></i>{% endif %}
                        </a>
                    </th>

                    <th>
                        <a href="">
                            Acciones
                        </a>
                    </th>
                </tr>
                </thead>

                <tbody>
                {% for mentors in mentor %}
                    <tr>
                        <td>{{ mentor.name ?: '-' }}</td>
                        <td>{{ mentor.representative ?: '-' }}</td>
                        <td>{{ mentor.speciality ?: '-' }}</td>
                        <td>{{ mentor.phone ?: '-' }}</td>
                        <td>{{ mentor.email ?: '-' }}</td>
                        <td>{{ mentor.logo ?: '-' }}</td>

                        <td>
                            <div class="dropdown-basic">
                                <div class="dropdown">
                                    <button class="dropbtn bg-transparent text-dark p-0 m-0"
                                            type="button"
                                            data-bs-original-title="" title="">
                                        <i data-feather='align-justify'></i>
                                    </button>
                                    <div class="dropdown-content " style="top: 20px">
                                        {% if userPermission.can('show', 'clients') %}
                                            <a href="{{ path('client_show', {'client': client.id}) }}">
                                                <i class="align-middle" data-feather='eye'></i>
                                                <span class="ms-1 align-middle"> {{ 'Show'|trans }}</span>
                                            </a>
                                        {% endif %}
                                        {% if userPermission.can('edit', 'clients') %}
                                            <a href="{{ path('client_edit', {'client': client.id}) }}">
                                                <i class="align-middle" data-feather='edit'></i>
                                                <span class="align-middle">{{ 'Edit'|trans }}</span>
                                            </a>
                                        {% endif %}
                                        {% if userPermission.can('delete', 'clients') %}
                                            <div class="dropdown-divider"></div>
                                            <a href="#" onclick="$('#deleteForm_client_{{ client.id }}').submit()">
                                                <i class="align-middle" data-feather='delete'></i>
                                                <span class="align-middle">{{ 'Delete'|trans }}</span>
                                            </a>
                                            <form method="post" id="deleteForm_client_{{ client.id }}"
                                                  action="{{ path('client_delete', {'client': client.id}) }}"
                                                  class="d-none deleteForm" >
                                                <input type="hidden" name="_method" value="DELETE">
                                                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ client.id) }}">
                                            </form>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="8">{{ 'No results found'|trans }}</td>
                    </tr>
                {% endfor %}
                </tbody>

            </table>
            {% include 'extra/filter_limit.html.twig' %}
            <div class="d-flex justify-content-end mr-4 mt-2">
                {% include 'extra/pagination.html.twig' with {
                    filterService: filterService,
                    currentPage: filterService.page,
                    paginationPath: 'mentors_index',
                    lastPage: lastPage,
                    showAlwaysFirstAndLast: true
                } only %}
            </div>
        </div>
    </div>
    <!-- list section end -->
</div>

{% endblock %}

{% block action_buttons %}

    <li class="level-menu outside d-flex align-items-center">
        {% if userPermission.can('create', 'mentors') %}
            <a class="nav-link" href="{{ path('mentors_new') }}" style="background-color: #003A4A">
                <i data-feather="plus-circle"></i>
            </a>
        {% endif %}

        <a class="nav-link cursor-pointer mr-1" href="#" onclick="toggleFilter()" style="background-color: #003A4A">
            <i data-feather="filter"></i>
        </a>
        <h5 class="mb-0 ms-3">Listado de Mentores</h5>
    </li>


{% endblock %}


{% block javascripts %}

{% endblock %}

{% block sidebar %}
    {% include 'extra/filters/client_filter.html.twig' %}
{% endblock %}